<launch>

<!--————————————————————————————————参数——————————————————————————————————-->
<arg name="wname" default="earth"/>
<!--————————————————————————————————世界模型——————————————————————————————————-->
    <include file="$(find gazebo_ros)/launch/empty_world.launch">
        <arg name="world_name" value="$(find robot_description)/worlds/$(arg wname).world"/>
        <arg name="debug" value="false"/>
        <arg name="gui" value="true"/>
        <!--参数用于控制仿真是否在启动时暂停-->
        <arg name="paused" value="true"/>
        <!--决定是否使用仿真时间-->
        <arg name="use_sim_time" value="true"/>
        <!--是否不显示图形 加速-->
        <arg name="headless" value="false"/>
    </include>
<!--————————————————————————————————机器人模型——————————————————————————————————-->
    <!-- 设置参数 调用 xacro 工具来使用robot.xacro文件设置参数 -->
    <param name="robot_description" command="$(find xacro)/xacro $(find robot_description)/robot/urdf/robot.xacro"/>
    <!-- 启动 spawn_model 节点并运行 spawn_model 程序  0.055  0.5并接收参数 -->
    <node
    name="spawn_model"
    pkg="gazebo_ros"
    type="spawn_model"
    args="-z 0.2 -param robot_description -urdf -model dog_description " 
    output="screen" />

    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"  output="screen" >
    </node>

    <!--电机仿真部分-->
    <!-- 加载控制器（力矩）参数 -->
    <rosparam file="$(find robot_description)/config/motor.yaml" command="load"/>
    <!-- 启动控制器 -->
    <node name="controller_spawner" pkg="controller_manager" type="spawner" 
    output="screen" args="/dog_controllers/joint_state_controller
                          /dog_controllers/leg1_1 /dog_controllers/leg1_2 /dog_controllers/leg1_3
                          /dog_controllers/leg2_1 /dog_controllers/leg2_2 /dog_controllers/leg2_3
                          /dog_controllers/leg3_1 /dog_controllers/leg3_2 /dog_controllers/leg3_3
                          /dog_controllers/leg4_1 /dog_controllers/leg4_2 /dog_controllers/leg4_3"/>
    

    <node name="sim_gazebo" pkg="sim_bridge" type="sim_gazebo" output="screen"/>

    <!--启动rviz-->
    <!-- <node name="rviz" pkg="rviz" type="rviz" args="-d $(find new_dog)/config/rviz_config.rviz"/>
    <node name="rviz_tf" pkg="new_dog" type="rviz_tf"/> -->

</launch>